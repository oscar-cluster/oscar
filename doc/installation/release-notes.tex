% -*- latex -*-
%
% Copyright (c) 2002 The Trustees of Indiana University.  
%                    All rights reserved.
% 
% This file is part of the OSCAR software package.  For license
% information, see the COPYING file in the top level directory of the
% OSCAR source distribution.
%
% $Id: release-notes.tex,v 1.31 2003/02/19 15:51:12 naughtont Exp $
%

\section{Release Notes}
\label{sec:release-notes}

The following release notes apply to OSCAR version \oscarversion.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Notes for All Systems}
\label{subsec:release-notes}

\begin{itemize}
\item Each package in OSCAR has its own installation and release
  notes.  \detailed{See Section~\ref{sec:pkg-specific-notes} for
    additional release notes.} \quick{See the full Installation Guide
    for these notes.}

\item All nodes must have a hostname other than ``{\tt localhost}''
  that does not contain any underscores (``{\tt \_}'').
  
\item A domain name must be specified for the client nodes when
  defining them.
  
\item The current version of C3 that is shipped with OSCAR requires
  Python 2.x.  The Python 2.x RPMs that are provided in OSCAR are
  re-built to work on RedHat 7.1 as well as RedHat 7.2.  However,
  RedHat 7.2 ships with Python 2.x, so measures were taken such that
  the OSCAR-shipped Python 2.x RPM will not be installed over the
  default RedHat 7.x RPM (specifically, the RPM release number has
  been decremented).  Due to some distribution portability issues,
  OSCAR currently installs a ``compatibility''
  (\file{python2-compat-1.0-1}) RPM to resolve the Python2
  prerequisite that is slightly different across different Linux
  distributions.  Also see the file
  \file{packages/c3/RPMS/NOTE.python2}.

\item In some cases, the test window that is opened from the 
  OSCAR wizard may close suddenly when there is a test failure. If
  this happens, run the test script, \file{testing/test\_cluster\_as\_root},
  manually in a shell window to diagnose the problem.
  
\item Although OSCAR can be installed on pre-existing server nodes, it
  is typically easiest to use a machine that has a new, fresh install
  of a distribution listed in table~\ref{tab:oscar-distro-support}
  {\em with no updates installed}.  If the updates are installed,
  there may be conflicts in RPM requirements.  It is recommended to
  install updates {\em after} the initial OSCAR installation has
  completed.
  
\item The following benign warning message will appear multiple times
  during the OSCAR installation process:

\begin{verbatim}
  rsync_stub_dir: no such variable at ...
\end{verbatim}

  It is safe to ignore these messages.
  
\item The OSCAR installer will install the MySQL package on the server
  node if it is not already installed.  OSCAR \oscarversion\ requires
  that there is no password required for \user{root} access to the
  MySQL database.
  
\item The OSCAR installer GUI provides little protection for user
  mistakes.  If the user executes steps out of order, or provides
  erroneous input, Bad Things may happen.  Users are strongly
  encouraged to closely follow the instructions provided in this
  document.

\item The OSCAR installer GUI currently does not support deleting a
  node and adding the same node back {\em in the same session}.  If
  you wish to delete a node and then add it back, you must delete the
  node, close the OSCAR installer GUI, launch the OSCAR installer GUI
  again, and then add the node.

\item For clusters larger than 9 nodes, the C3 configuration file on
  the head node will be out of order.  Specifically, it will be ASCII
  sorted rather than numerically ordered.  For example, the following
  is an excerpt from a configuration on a 32 node closer:

\begin{verbatim}
  node0
  dead remove_line_for_0-indexing
  node1.xtorc
  node10.xtorc
  node11.xtorc
  node12.xtorc
\end{verbatim}
  
  (See the C3-specific notes in the OSCAR Cluster User's Guide for an
  explanation of the ``{\tt dead}'' line)
  
  If you execute any C3 commands and attempt to address a specific
  node, C3 will use the ordering specified in the \file{/etc/c3.conf}
  file.  Hence, using the above ordering, node 3 actually resolves to
  {\tt node11.xtorc}.  For example:

\begin{verbatim}
  # cexec --pipe :3 hostname
  oscar_cluster node11.xtorc: node11.xtorc
\end{verbatim}
  
  You may wish to manually re-sort the C3 configuration file.
  
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{RedHat 7.2 Notes}
\label{subsec:rh72notes}

\begin{itemize}
\item The version of Perl that ships with RedHat 7.2 will complain
  about many variables that ``will not remain shared'' upon invocation
  of the OSCAR installer GUI.  These warnings are benign and can be
  safely ignored.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Mandrake 8.2 Notes}
\label{subsec:mdk82notes}

\begin{itemize}
\item Before running the OSCAR installer, you must install the
  \file{libexpat1\_95-devel} RPM (you may need Mandrake 8.2 CD's to run
  the \cmd{urpmi} command):

\begin{verbatim}
  # urpmi libexpat1_95-devel
\end{verbatim}

  This RPM is a prerequisite for the perl-XML-Simple and
  perl-XML-Parser Perl modules that are installed in the initial
  installation of OSCAR.  Alternatively, you can install the Mandrake
  RPMs for perl-XML-Simple and perl-XML-Parser before installing
  OSCAR:

\begin{verbatim}
  # urpmi perl-XML-Simple perl-XML-Parser
\end{verbatim}


% TJN: Doc fix for BUG#686916 'xterm needed by SIS'
%      Remove after 2.2 when add to server_prep/pre-req check areas.
%     - on RH7.x systems the xterm binaray is packaged w/ XFree86 (big bundle)
%     - on MDK8.x it showed up in it's own xterm rpm.
\item The OSCAR wizard makes use of \cmd{xterm} so this package must be
  installed.  You can check the RPM database for this package by typing
  \cmd{rpm -q xterm}.  If \cmd{xterm} is not available, you must
  install the \file{xterm-165-3mdk.i586.rpm} RPM (you may need Mandrake 8.2
  CD's to run the \cmd{urpmi} command as mentioned above):

\begin{verbatim}
  # urpmi xterm
\end{verbatim}


\item There will be two warnings displayed while building the client
  image -- the \file{lam-oscar} and \file{mpich-oscar} RPMs will
  display errors regarding a lack of \file{libtcl.so.0}.  It is safe
  to ignore these warnings.
  
\item If installing the third-party package Ganglia, the
  \file{libpng} RPM version 1.0.8-2mdk must be manually installed
  before invoking the OSCAR install wizard.  This RPM can be
  found in the Ganglia distribution package in the following location:\\
  \file{packages/ganglia/extras/libpng-1.0.8-2mdk.i586.rpm}
  
% TJN: relates to server_prep: unmunge_pathenv()
\item \user{root}'s default shell configuration files hardcode the
  value for {\tt PATH} environment variable, regardless of what is
  added via {\tt profile.d/} startup scripts.  This effects various
  OSCAR installed components, which are installed into locations such
  as \file{/opt}.  As such, the OSCAR installer comments out these
  lines in following files:

  \begin{itemize}
  \item \file{/root/.bashrc}
  \item \file{/root/.cshrc}
  \item \file{/root/.tcshrc}
  \end{itemize}

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Mandrake 9.0 Notes}
\label{subsec:mdk90notes}

The following steps are required to be run before attempting to
install OSCAR on a Mandrake 9.0 cluster.  Please note Mandrake 9.0 is
only experimentally supported, and these steps have only been lightly
tested.  Contact the OSCAR user's mailing list with questions and/or
comments.

\begin{itemize}
\item Install some perl modules using CPAN:

\begin{verbatim}
  # perl -MCPAN -e shell
  install SQL::Statement
\end{verbatim}
  
\item Install the python 2 compatability RPM.  This RPM can be found
  in the OSCAR distribution package, under the \file{packages/c3/RPMS}
  directory:

\begin{verbatim}
  # cd oscar-2.0/packages/c3/RPMS
  # rpm -Uvh python2-compat-1.0-1.noarch.rpm
\end{verbatim}

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{IA64 and Other Bleeding Edge Systems Notes}
\label{subsec:ia64notes}

\begin{itemize}
  
\item Itanium is supported on RedHat 7.2.  Itanium 2 is not yet
  supported.\footnote{Preliminary indications are that Itanium 2
    support is possible, even if it is not formally supported.  The
    main issues for OSCAR are that at the time of this writing,
    Itanium 2 hardware post-dates the available binary versions of
    operating systems, and SIS does not properly pick up modules for
    the netbooted kernel.  The solution is for the user to compile
    their own kernel.  This is essentially a ``do it yourself'' kind
    of process, and not recommended for novices.  Please consult the
    OSCAR user's mailing list for more information.}

\item The OSCAR autoinstall diskette will probably not work on Itanium
  systems, but they mostly have support for network booting.
  
\item Some Itanium 1 or 2 systems are supported by OSCAR under
  RedHat's Linux 7.2 release for Itanium.  Itanium systems that can
  use the standard RedHat Itanium kernel for booting and network
  access should work with OSCAR.
  
\item If an Itanium (or an IA32 based) system has new or unknown
  hardware that is not supported by the stock kernel in the base
  operating system release, it will not work with standard OSCAR,
  since OSCAR uses the kernel RPMS supplied with the vendors release
  to boot and load the compute nodes.  If you have a custom compiled
  kernel/module set that works for your hardware, you should look at
  the NCSA utilities at \url{http://oscar.ncsa.uiuc.edu/} to
  enable you to use them in OSCAR.
\end{itemize}

% LocalWords:  tex Exp TJN unmunge pathenv
