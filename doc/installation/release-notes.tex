% -*- latex -*-
%
% $Id: release-notes.tex,v 1.14 2002/08/28 07:48:41 bligneri Exp $
%
% $COPYRIGHT$
%

\section{Release Notes}
\label{sec:release-notes}

The following release notes apply to OSCAR version \oscarversion:

\begchange

\begin{itemize}
\item All nodes must have a hostname other than ``{\tt localhost}''
  that does not contain any underscores (``{\tt \_}'').
  
\item The {\tt ipchains} firewall software package cannot be installed
  on the server node prior to running the OSCAR installation wizard.
  
\item A domain name must be specified for the client nodes when
  defining them.
  
\item The current version of C3 that is shipped with OSCAR requires
  Python 2.x.  The Python 2.x RPMs that are provided in OSCAR are
  re-built to work on RedHat 7.1 as well as RedHat 7.2.  However,
  RedHat 7.2 ships with Python 2.x, so measures were taken such that
  the OSCAR-shipped Python 2.x RPM will not be installed over the
  default RedHat 7.x RPM (specifically, the RPM release number has
  been decremented).  Due to some distribution portability issues,
  OSCAR currently installs a ``compatibility''
  (\file{python2-compat-1.0-1}) RPM to resolve the Python2
  prerequisite that is slightly different across different Linux
  distributions.  Also see the file
  \file{packages/c3/RPMS/NOTE.python2}.

\item In some cases, the test window that is opened from the 
  OSCAR wizard may close suddenly when there is a test failure. If
  this happens, run the test script, \file{testing/test\_cluster\_as\_root},
  manually in a shell window to diagnose the problem.
\end{itemize}

\endchange

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{RedHat 7.2 Notes}
\label{subsec:rh72notes}

\begin{itemize}
\item You will need to update the \rpmname{rpm} RPM to
  \file{rpm-4.0.4-7x} because the version that ships on the 7.2 CD is
  buggy.  The 4.0.4-7x version is available on the Red Hat updates for
  7.2 (\url{ftp://updates.redhat.com/7.2/en/os/i386/}).  See also
  Appendix~\ref{app:screen-by-screen},
  Figure~\ref{fig:sbs-rh72notes-rpm-upgrd}
  (page~\pageref{fig:sbs-rh72notes-rpm-upgrd}). In addition, for users
  working under the KDE environment, you will also need to obtain and
  install the \file{kdeadmin} RPM.
  
  {\bf NOTE:} Although updating the \rpmname{rpm} RPM is {\em
    strongly} recommended, it is not a trivial task -- \rpmname{rpm}
  has many dependencies.  If you choose not to update the
  \rpmname{rpm} RPM, a possible workaround is described below.
  
\item If you did not update the \rpmname{rpm} RPM, the image build
  will likely fail during the install.  This is directly attributable
  to a bug in the version of RPM that is installed by default.  That
  is, all relevant RPMs will successfully be installed, but the
  \cmd{rpm} command will report failure, which will cause
  SystemInstaller to abort the entire installation.  

  You can change SystemInstaller's default behavior for this case by
  editing one of its config files to essentially tell it ``ignore
  error return statuses from the \cmd{rpm} command.''  Edit the
  following file:

  \vspace{11pt}
  \centerline{\file{/etc/systeminstaller/systeminstaller.conf}}
  \vspace{11pt}

  and change the following line:

\begin{verbatim}
       pkginstfail=    1
\end{verbatim}
  to
\begin{verbatim}
       pkginstfail=    0
\end{verbatim}
  
  {\bf WARNING:} This will cause SystemInstaller to {\em always}
  proceed with the installation, regardless of the result of the
  \cmd{rpm} command.  As such, even legitimate RPM errors will be
  ignored.  OSCAR has been tested with the default RPM lists that are
  shipped with it, and has been certified that the ``error'' that
  occurs during the \cmd{rpm} command invocation is benign.  If you
  use a different RPM list -- one with a legitimate error in it --
  SystemInstaller will ignore the error and continue with the
  installation.  It may not be apparent until much later in the
  install process that there was actually an error during the RPM
  installation phase.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{RedHat 7.3 Notes}
\label{subsec:rh73notes}

\begin{itemize}
\item Note that this is not a formally supported distribution.  OSCAR
  \oscarversion\- has been only somewhat tested on this distribution
  (see Table~\ref{tab:oscar-distro-support}).

\item You may need the same \file{systeminstaller.conf} fix as listed
  in the RedHat 7.2 Notes section, above.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Mandrake 8.2 Notes}
\label{subsec:mdk82notes}

\begin{itemize}
\item This is the first release of OSCAR to support this distribution. OSCAR
  \oscarversion\- has been tested and successfully installed 
  on this distribution (see Table~\ref{tab:oscar-distro-support}) but some
  bugs can still be found !
\item Copy only the original Mandrake 8.2 packages (ie, those from the CDs or
from you local mirror but not the updates package from Mandrake Update).
Indeed, because of some naming convention problem with mandrake rpms, updated rpms with the
same version will not be selected and you will not be able to pass step 1
(server install).
\item Copy the {\tt libcap} package from RedHat from this site\\
{\tiny{ \tt
ftp://ftp.rpmfind.net/linux/redhat/7.3/en/os/i386/RedHat/RPMS/libcap-1.10-8.i386.rpm
}}
to your {\tt /tftpboot/rpm} directory. For the moment this package is
necessary and only RedHat is providing it.
\item To build your image (and so your clients!), select the {\tt
oscarsamples/Mandrake-8.2-i386.rpmlist} (for complete client with X) or
{\tt oscarsamples/Mandrake-8.2-noX-i386.rpmlist} (for smaller client with no
X) as your rpm list.
\item Ganglia : The web client is working if you change the line \\
\verb+ $rrdtool = "/opt/rrdtool-1.0.35/bin/rrdtool";+ \\
in the file \\
{\tt /var/www/html/ganglia/ganglia.php}\\ to 
\verb+ $rrdtool = "/usr/bin/rrdtool"+.
\item Once the server has been installed, you can update your packages by
using the {\tt MandrakeUpdate} or the {\tt urpmi --auto-select} method. It is
recommended as some important packages have been upgraded (apache and openssl
namely !). 
However, in order to start the oscar wizard again, you need to remove all the 
upgraded packages from {\tt share/serverlists/Mandrake-8.2-i386.rpmlist}. 
At the time of this writing, delete the lines containing the folowing package
name : {\tt  apache}, {\tt apache-common}, {\tt apache-conf}, {\tt
apache-modules}, {\tt openssl}.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{IA64 and Other Bleeding Edge Systems Notes}
\label{subsec:ia64notes}

\begin{itemize}
  
\item Itanium is supported on RedHat 7.2.  Itanium 2 is not supported.
  
\item The OSCAR autoinstall diskette will probably not work on Itanium
  systems, but they mostly have support for network booting.
  
\item Some Itanium 1 or 2 systems are supported by OSCAR under
  RedHat's Linux 7.2 release for Itanium.  Itanium systems that can
  use the standard RedHat Itanium kernel for booting and network
  access should work with OSCAR.
  
\item If an Itanium (or an IA32 based) system has new or unknown
  hardware that is not supported by the stock kernel in the base
  operating system release, it will not work with standard OSCAR,
  since OSCAR uses the kernel RPMS supplied with the vendors release
  to boot and load the compute nodes.  If you have a custom compiled
  kernel/module set that works for your hardware, you should look at
  the NCSA utilities at \url{http://oscar.ncsa.uiuc.edu/} to
  enable you to use them in OSCAR.
\end{itemize}





% LocalWords:  tex Exp
