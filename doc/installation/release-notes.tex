% -*- latex -*-
%
% Copyright (c) 2002 The Trustees of Indiana University.
%                    All rights reserved.
%
% This file is part of the OSCAR software package.  For license
% information, see the COPYING file in the top level directory of the
% OSCAR source distribution.
%
% $Id: release-notes.tex,v 1.44 2003/11/26 23:53:35 bernardli Exp $
%

\section{Release Notes}
\label{sec:release-notes}

The following release notes apply to OSCAR version \oscarversion.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Release Features}
\label{subsec:release-features}

\begin{itemize}

\item x86\_64 support for Fedora Core 3 and Red Hat Enterprise Linux 3 \& 4.
\item Fedora Core 3, Red Hat Enterprise Linux 4, and 
      Mandrivia Linux 10.1 support
\item New feature! ``Monitor Cluster Deployment''
\item Ganglia updated to v3.0.1
\item Torque updated to v1.2.0p5
\item SystemImager updated to v3.5.3
\item AutoInstallFloppy changed to AutoInstallCD due to large kernel images.

\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Notes for All Systems}
\label{subsec:release-notes}

\begin{itemize}

\item The OSCAR installer GUI provides little protection for user
  mistakes.  If the user executes steps out of order, or provides
  erroneous input, Bad Things may happen.  Users are strongly
  encouraged to closely follow the instructions provided in this
  document.

\item Each package in OSCAR has its own installation and release
  notes.  \detailed{See Section~\ref{sec:pkg-specific-notes} for
  additional release notes.} \quick{See the full Installation Guide
  for these notes.}

\begchange
\item All nodes must have a hostname other than ``{\tt localhost}''
  that does not contain any underscores (``{\tt \_}'') or periods ``{\tt
  .}''.  Some distributions complicate this by putting a line such
  as as the following in /etc/hosts:
  \begin{verbatim}
    127.0.0.1   localhost.localdomain   localhost
    yourhostname.yourdomain    yourhostname
  \end{verbatim}
  If this occurs the file should be separated as follows:
  \begin{verbatim}
  127.0.0.1 localhost.localdomain localhost
  192.168.0.1 yourhostname.yourdomain yourhostname
  \end{verbatim}
\endchange

\item A domain name must be specified for the client nodes when
  defining them.

\item Although OSCAR can be installed on pre-existing server nodes, it
  is typically easiest to use a machine that has a new, fresh install
  of a distribution listed in Table~\ref{tab:oscar-distro-support}
  {\em with no updates installed}.  If the updates are installed,
  there may be conflicts in RPM requirements.  It is recommended to
  install RedHat updates {\em after} the initial OSCAR installation has
  completed.

\item The following benign warning messages will appear multiple times
  during the OSCAR installation process:

\begin{verbatim}
  awk: cmd. line:2: fatal: cannot open file `/etc/fstab'
    for reading (No such file or directory)

  rsync_stub_dir: no such variable at ...

  Use of uninitialized value in pattern match (m//) at
  /usr/lib/perl5/site_perl/oda.pm ...
\end{verbatim}

  It is safe to ignore these messages.

\item The OSCAR installer will install the MySQL package on the server
  node if it is not already installed.  A random password will be automatically
  generated for the oscar user to access the oscar database.  This
  password will be stored in the file \file{/etc/odapw}.  It should
  not be needed by other users.

\item The OSCAR installer GUI currently does not support deleting a
  node and adding the same node back {\em in the same session}.  If
  you wish to delete a node and then add it back, you must delete the
  node, close the OSCAR installer GUI, launch the OSCAR installer GUI
  again, and then add the node.

\item If \cmd{ssh} produces warnings when logging into the compute
  nodes from the OSCAR head node, the C3 tools (e.g., \cmd{cexec}) may
  experience difficulties.  For example, if you use \cmd{ssh} to login
  in to the OSCAR head node from a terminal that does not support X
  windows and then try to run \cmd{cexec}, you might see a warning
  message in the \cmd{cexec} output:

\begin{verbatim}
  Warning: No xauth data; using fake authentication data for
  X11 forwarding.
\end{verbatim}

  Although this is only a warning message from \cmd{ssh}, \cmd{cexec}
  may interpret it as a fatal error, and not run across all cluster
  nodes properly (e.g., the \button{Install/Uninstall Packages} button
  will likely not work properly).

  Note that this is actually an \cmd{ssh} problem, not a C3 problem.
  As such, you need to eliminate any warning messages from ssh (more
  specifically, eliminate any output from \file{stderr}).  In the
  example above, you can tell the C3 tools to use the ``\cmd{-x}''
  switch to \cmd{ssh} in order to disable X forwarding:

\begin{verbatim}
  # export C3_RSH='ssh -x'
  # cexec uptime
\end{verbatim}

  The warnings about \cmd{xauth} should no longer appear (and the
  \button{Install/Uninstall Packages} button should work properly).

\item The SIS multicast facility (Flamethrower) is ``experimentally''
  supported.  If you are having problems with multicast and would like
  to experiment please check the {\tt oscar-users} and/or
  {\tt sisuite-users} mailing lists for tips.

%TJN: KEEP THIS (if we keep the python2-compat rpms under c3?)
\item Due to some distribution portability issues, OSCAR currently installs
  a ``compatibility''  (\file{python2\--compat\--1.0-1}) RPM to resolve the
  Python2 prerequisite that is slightly different across different Linux
  distributions.  Also see the file \file{packages/c3/RPMS/NOTE.python2}.

\item The man pages for the Torque package will not be available in
  a default installation because /opt/pbs/man is missing from
  MANPATH.  They should appear if this is added by hand eg:

\begin{verbatim}
  # export MANPATH=\$MANPATH:/opt/pbs/man
\end{verbatim}

\item \emph{FutureWarning} message during APItests on Python2.3 based systems.
   The following is a warning message about the for the version of
   TwistedMatrix used by the APItest tool.  It is only a warning and can be
   ignored.
   \begin{small}
   \begin{verbatim}
   Running Installation tests for pvm
   /usr/lib/python2.3/site-packages/twisted/internet/defer.py:398:
   FutureWarning: hex()/oct() of negative int will return
   a signed string in Python 2.4 and up return "<%s at %s>" 
   % (cname, hex(id(self)))
   \end{verbatim}
   \end{small}

\item In some cases, the test window that is opened from the
  OSCAR wizard may close suddenly when there is a test failure. If
  this happens, run the test script, \file{testing/test\_cluster},
  manually in a shell window to diagnose the problem.

\item PVM Installation (APItest) tests showing {\tt FAIL}.  In some cases,
  namely the first pass through the OSCAR Wizard to install the system (from
  original shell without PVM installed) may show output similar to the
  following:
  \begin{small}
  \begin{verbatim}
     [PASS]       2005-04-08T15:57:32Z   pvmd-path-ls.apt
     [FAIL]       2005-04-08T15:57:32Z   envvar-pvm_arch.apt
     [FAIL]       2005-04-08T15:57:32Z   envvar-pvm_root.apt
     [FAIL]       2005-04-08T15:57:32Z   pvmd-path-which.apt
     [PASS]       2005-04-08T15:57:33Z   modulecmd-path-ls.apt
     [PASS]       2005-04-08T15:57:33Z   pvm-module-list.apt
     [PASS]       2005-04-08T15:57:33Z   pvm-module-show-pvm_rsh.apt
     [PASS]       2005-04-08T15:57:33Z   pvm-module-show-pvm_arch.apt
     [PASS]       2005-04-08T15:57:34Z   pvm-module-show-pvm_root.apt
  \end{verbatim}
  \end{small}

  The three tests marked as {\tt FAIL} (with all others showing {\tt PASS})
  can typically be ignored.  These three tests check PVM setting using the
  same environment as the OSCAR Wizard.  If it the Wizard is being run from
  the same shell that was used during the initial OSCAR install (i.e., the
  shell used to install PVM via the Wizard) then the PVM setting are absent
  from the environment and therefore will not appear in the child process
  (APItests).  The fact that the other tests show {\tt PASS} indicates that
  starting a new shell should update the environment and all tests should
  pass.  To confirm this:
  (1) Exit the OSCAR Wizard, (2) Start a new shell,
  (3) Start the OSCAR Wizard and (4) Re-run the Test Cluster step
  (all tests should show PASS)


\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Red Hat Enterprise Linux 4 Notes}
\label{subsec:rhel4notes}

\begin{itemize}

\item Due to an issue with displaying graphs under Ganglia, SELinux should
  be disabled before installing OSCAR.  Durring installation, it can be
  deactivated on the same screen as the firewall.  If it is currently
  active it can be turned off in /etc/selinux/config by setting SELINUX 
  to ``disabled'' and rebooting.

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Fedora Core 3 Notes}
\label{subsec:fc3notes}

\begin{itemize}

\item Due to an issue with displaying graphs under Ganglia, SELinux should
  be disabled before installing OSCAR.  Durring installation, it can be
  deactivated on the same screen as the firewall.  If it is currently
  active it can be turned off in /etc/selinux/config by setting SELINUX 
  to ``disabled'' and rebooting.

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Mandriva Linux 10.0 Notes}
\label{subsec:mdk10notes}

\begin{itemize}

\item The version of Mandriva Linux supported is 10.0 Official which is a
3CD set.  While it may be possible to install OSCAR with 10.0 Community,
it is not officially supported.

\end{itemize}
