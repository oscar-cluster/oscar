OSCAR PACKAGE SCRIPT REQUIREMENTS
----------------------------------------

Overview of script stages
-------------------------
In order to make life easier, during the installation 4 places for
userexits have been defined that any oscar package may tie into.  The
4 userexits are as follows:

- server_prep : This is called by install_cluster BEFORE the
oscar_wizard is launched.  Possible operations here would be
restarting of services.

- post_buildimage : This is called right after an image is built and is
passed the imagename and imagedirectory as the two arguments.  This
would be required to fix up files in the image after all the rpms were
installed.  A contributed package could even possibly use this step to
install itself into the image.

- post_clients : This is called after all the clients have been
defined.  It needs to be rerunable as it will be called every time
clients get redefined.  This would be used by packages that need to
create custom node lists (as long as they don't need to know
information which must be instrumented from the nodes).

- post_install : This is called after all the clients have been
installed (like the old Step 7).  It needs to be rerunable.  This
would be used by packages that need custom node lists which do need
instrumented values (like number of processors).

Convenience functions:

The SystemInstaller::Machine class exports a convenience function
called get_machine_listing.  This can optionally take an image name as
the argument.

get_machine_listing returns a hash.  The hash keys are the names of
all the clients in the database (optionally associated with an image
if that is specified).  The hash value for each key is a hash
reference with the following keys defined:

HOST - hostname
IPADDR - ip address of primary adapter
DOMAIN - domainname
NUMPROC - number of processors on node

(other values can be added if required).

It is recomended that all user exit scripts which need node
information be written in perl, and use this function to gain access
to the database.

CURRENT PACKAGES and their stages:
--------------------------------
Here is what I see as the requirements of the current Oscar packages
for installation:

c3
--
post_clients - script to generate /etc/c3.conf

pbs
---
post_clients - script to generate node listings and start services
post_install - script to regenerate node listings with instrumented
values for number of processors and restart services

lam
---
post_install - generation of node listings on server

mpich
-----
post_install - generation of node listings on server

pvm
---
none (as far as I can tell)

sis
---
none
